{"ast":null,"code":"import { onMounted } from \"vue\";\n\n/*function countdown(seconds) {\n  if (true != false) {\n\n  }\n}*/\n\nexport default {\n  __name: 'RobotGameTimer',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n\n    //const props = defineProps(['seconds'])\n    let seconds = 150;\n    let interval = 1000; // ms\n    let expected = Date.now();\n    function stepDown(sec) {\n      let dt = Date.now() - expected;\n      sec -= 1;\n      //props.seconds.value = sec\n      seconds = sec;\n      expected += interval;\n      if (sec > 0) {\n        setTimeout(() => {\n          stepDown(sec);\n        }, Math.max(0, interval - dt));\n      }\n    }\n\n    /*function step(seconds) {\n      let dt = Date.now() - expected;\n      if (dt < interval) {\n        console.log(\"problem\")\n      }\n    \n      seconds += interval/1000;\n      setTimeout(function () {step(seconds)}, Math.max(0, interval - dt))\n    }*/\n\n    onMounted(() => {\n      //setTimeout(function () {step(150)}, interval);\n      stepDown(seconds);\n    });\n    const __returned__ = {\n      get seconds() {\n        return seconds;\n      },\n      set seconds(v) {\n        seconds = v;\n      },\n      get interval() {\n        return interval;\n      },\n      set interval(v) {\n        interval = v;\n      },\n      get expected() {\n        return expected;\n      },\n      set expected(v) {\n        expected = v;\n      },\n      stepDown,\n      onMounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","seconds","interval","expected","Date","now","stepDown","sec","dt","setTimeout","Math","max"],"sources":["/Users/jakub.stribrny/Documents/GitHub/timer/src/components/RobotGameTimer.vue"],"sourcesContent":["<script setup>\n//const props = defineProps(['seconds'])\nlet seconds = 150\nimport {onMounted} from \"vue\";\n\n/*function countdown(seconds) {\n  if (true != false) {\n\n  }\n}*/\n\nlet interval = 1000; // ms\nlet expected = Date.now();\n\nfunction stepDown(sec) {\n  let dt = Date.now() - expected;\n  sec -= 1\n  //props.seconds.value = sec\n  seconds = sec\n  expected += interval\n  if (sec > 0) {\n    setTimeout(() => {stepDown(sec)}, Math.max(0, interval - dt))\n  }\n}\n\n/*function step(seconds) {\n  let dt = Date.now() - expected;\n  if (dt < interval) {\n    console.log(\"problem\")\n  }\n\n  seconds += interval/1000;\n  setTimeout(function () {step(seconds)}, Math.max(0, interval - dt))\n}*/\n\nonMounted(() => {\n  //setTimeout(function () {step(150)}, interval);\n  stepDown(seconds)\n})\n</script>\n\n<template>\n  <div>\n   <span v-text=\"(seconds / 60)\" id=\"minutes\"></span>:<span v-text=\"(seconds % 60)\" id=\"seconds\"></span>\n  </div>\n</template>\n\n<style scoped>\n\n</style>"],"mappings":"AAGA,SAAQA,SAAS,QAAO,KAAK;;AAE7B;AACA;AACA;AACA;AACA;;;;;;;;;IARA;IACA,IAAIC,OAAO,GAAG,GAAG;IASjB,IAAIC,QAAQ,GAAG,IAAI,CAAC,CAAC;IACrB,IAAIC,QAAQ,GAAGC,IAAI,CAACC,GAAG,EAAE;IAEzB,SAASC,QAAQA,CAACC,GAAG,EAAE;MACrB,IAAIC,EAAE,GAAGJ,IAAI,CAACC,GAAG,EAAE,GAAGF,QAAQ;MAC9BI,GAAG,IAAI,CAAC;MACR;MACAN,OAAO,GAAGM,GAAG;MACbJ,QAAQ,IAAID,QAAQ;MACpB,IAAIK,GAAG,GAAG,CAAC,EAAE;QACXE,UAAU,CAAC,MAAM;UAACH,QAAQ,CAACC,GAAG,CAAC;QAAA,CAAC,EAAEG,IAAI,CAACC,GAAG,CAAC,CAAC,EAAET,QAAQ,GAAGM,EAAE,CAAC,CAAC;MAC/D;IACF;;IAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEAR,SAAS,CAAC,MAAM;MACd;MACAM,QAAQ,CAACL,OAAO,CAAC;IACnB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}