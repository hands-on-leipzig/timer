{"ast":null,"code":"export default {\n  name: \"TimeSlot\",\n  props: {\n    slotData: Object,\n    lang: String\n  },\n  data: function () {\n    return {\n      timeout: 0,\n      minID: 'min-' + this.slotData.name,\n      secID: 'sec-' + this.slotData.name,\n      timeID: 'time-' + this.slotData.name,\n      initMin: this.slotData.time.split(':')[0],\n      initSec: this.slotData.time.split(':')[1],\n      componentKey: 0\n    };\n  },\n  mounted() {\n    this.emitter.on('start', slot => {\n      if (slot === this.slotData.name) this.countdown(document.getElementById(this.minID).innerHTML * 60 + document.getElementById(this.secID).innerHTML * 1);else this.emitter.emit('stop', slot);\n    });\n    this.emitter.on('stop', slot => {\n      if (slot !== null && slot !== this.slotData.name) window.clearTimeout(this.timeout);\n    });\n    this.emitter.on('reset', () => {\n      this.componentKey++;\n    });\n  },\n  methods: {\n    nextSlot() {\n      window.clearTimeout(this.timeout);\n      this.emitter.emit('next', this.slotData.next);\n    },\n    countdown(input) {\n      document.getElementById(this.minID).innerHTML = Math.floor(input / 60);\n      let seconds = Math.floor(input % 60);\n      document.getElementById(this.secID).innerHTML = seconds < 10 ? \"0\" + seconds : seconds;\n      if (input <= 10) {\n        document.getElementById(this.timeID).style.color = \"#d9232a\";\n      }\n      if (input > 0) {\n        input--;\n        this.timeout = window.setTimeout(() => {\n          this.countdown(input);\n        }, 1000);\n      } else {\n        this.nextSlot();\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","props","slotData","Object","lang","String","data","timeout","minID","secID","timeID","initMin","time","split","initSec","componentKey","mounted","emitter","on","slot","countdown","document","getElementById","innerHTML","emit","window","clearTimeout","methods","nextSlot","next","input","Math","floor","seconds","style","color","setTimeout"],"sources":["/Users/jakub.stribrny/Documents/GitHub/timer/src/components/TimeSlot.vue"],"sourcesContent":["<template>\n  <div class=\"slot\" :key=\"componentKey\">\n    <div>\n      <div></div>\n      <h3 v-text=\"slotData[lang].heading\"></h3>\n      <div class=\"text\">\n        <p v-text=\"slotData[lang].text\"></p>\n      </div>\n      <div class=\"time\" :id=\"timeID\">\n        <span :id=\"minID\" v-text=\"initMin\" class=\"minutes\"></span>\n        :\n        <span :id=\"secID\" v-text=\"initSec\" class=\"seconds\"></span>\n      </div>\n      <div v-if=\"slotData.next !== 'start'\" class=\"next-arrow\" @click=\"nextSlot()\">\n        <font-awesome-icon icon=\"fa-solid fa-circle-chevron-down\"/>\n      </div>\n      <div v-else class=\"next-arrow\" @click=\"nextSlot()\">\n        <font-awesome-icon icon=\"fa-solid fa-flag-checkered\"/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TimeSlot\",\n  props: {\n    slotData: Object,\n    lang: String,\n  },\n  data: function () {\n    return {\n      timeout: 0,\n      minID: 'min-' + this.slotData.name,\n      secID: 'sec-' + this.slotData.name,\n      timeID: 'time-' + this.slotData.name,\n      initMin: this.slotData.time.split(':')[0],\n      initSec: this.slotData.time.split(':')[1],\n      componentKey: 0\n    }\n  },\n  mounted() {\n    this.emitter.on('start', slot => {\n      if (slot === this.slotData.name) this.countdown(document.getElementById(this.minID).innerHTML * 60 + document.getElementById(this.secID).innerHTML * 1);\n      else this.emitter.emit('stop', slot);\n    });\n    this.emitter.on('stop', slot => {\n      if (slot !== null && slot !== this.slotData.name) window.clearTimeout(this.timeout);\n    });\n    this.emitter.on('reset', () => {\n      this.componentKey++;\n    });\n  },\n  methods: {\n    nextSlot() {\n      window.clearTimeout(this.timeout);\n      this.emitter.emit('next', this.slotData.next);\n    },\n    countdown(input) {\n      document.getElementById(this.minID).innerHTML = Math.floor(input / 60);\n      let seconds = Math.floor(input % 60);\n      document.getElementById(this.secID).innerHTML = seconds < 10 ? \"0\" + seconds : seconds;\n\n      if (input <= 10) {\n        document.getElementById(this.timeID).style.color = \"#d9232a\";\n      }\n\n      if (input > 0) {\n        input--;\n        this.timeout = window.setTimeout(() => {\n          this.countdown(input)\n        }, 1000);\n      } else {\n        this.nextSlot();\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\ndiv.slot {\n  margin: .5em;\n  padding: .5em;\n  position: relative;\n}\n\ndiv.slot > div {\n  background: #abd2e5;\n  border-radius: 50px;\n  display: grid;\n  text-align: left;\n  grid-template-columns: 1fr 4fr 3fr;\n  grid-template-rows: 1fr 4fr;\n  height: 70vh;\n}\n\ndiv.slot div.text {\n  grid-column: 2/3;\n}\n\ndiv.slot div.time {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: black;\n  font-size: 6em;\n  font-weight: bold;\n  grid-column: 3/4;\n  grid-row: 1/3;\n}\n\ndiv.slot h3 {\n  color: #d9232a;\n  font-size: 2em;\n  margin-block-end: 0;\n  white-space: nowrap;\n  grid-column: 2/4;\n  grid-row: 1/2;\n}\n\ndiv.slot p {\n  font-size: 1.2em;\n}\n\ndiv.slot div.next-arrow {\n  position: absolute;\n  right: 8vw;\n  bottom: -.7em;\n  z-index: 1000;\n  font-size: 3.5em;\n  padding: 0 .1em 0 .1em;\n  border-radius: 25px;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}