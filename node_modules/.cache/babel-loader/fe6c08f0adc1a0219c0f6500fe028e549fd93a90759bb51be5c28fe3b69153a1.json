{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-090f15ca\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, null, -1 /* HOISTED */));\nconst _hoisted_2 = [\"textContent\"];\nconst _hoisted_3 = {\n  class: \"text\"\n};\nconst _hoisted_4 = [\"textContent\"];\nconst _hoisted_5 = [\"id\"];\nconst _hoisted_6 = [\"id\", \"textContent\"];\nconst _hoisted_7 = [\"id\", \"textContent\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: \"slot\",\n    key: _ctx.componentKey\n  }, [_createElementVNode(\"div\", null, [_hoisted_1, _createElementVNode(\"h3\", {\n    textContent: _toDisplayString($props.slotData[$props.lang].heading)\n  }, null, 8 /* PROPS */, _hoisted_2), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"p\", {\n    textContent: _toDisplayString($props.slotData[$props.lang].text)\n  }, null, 8 /* PROPS */, _hoisted_4)]), _createElementVNode(\"div\", {\n    class: \"time\",\n    id: _ctx.timeID\n  }, [_createElementVNode(\"span\", {\n    id: _ctx.minID,\n    textContent: _toDisplayString(_ctx.initMin),\n    class: \"minutes\"\n  }, null, 8 /* PROPS */, _hoisted_6), _createTextVNode(\" : \"), _createElementVNode(\"span\", {\n    id: _ctx.secID,\n    textContent: _toDisplayString(_ctx.initSec),\n    class: \"seconds\"\n  }, null, 8 /* PROPS */, _hoisted_7)], 8 /* PROPS */, _hoisted_5), $props.slotData.next !== 'start' ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"next-arrow\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.nextSlot())\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"fa-solid fa-circle-chevron-down\"\n  })])) : (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    class: \"next-arrow\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.nextSlot())\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"fa-solid fa-flag-checkered\"\n  })]))])]);\n}","map":{"version":3,"names":["_createElementVNode","class","_createElementBlock","key","_ctx","componentKey","_hoisted_1","_toDisplayString","$props","slotData","lang","heading","_hoisted_3","text","id","timeID","minID","initMin","secID","initSec","next","onClick","_cache","$event","$options","nextSlot","_createVNode","_component_font_awesome_icon","icon"],"sources":["/Users/jakub.stribrny/Documents/GitHub/timer/src/components/TimeSlot.vue"],"sourcesContent":["<template>\n  <div class=\"slot\" :key=\"componentKey\">\n    <div>\n      <div></div>\n      <h3 v-text=\"slotData[lang].heading\"></h3>\n      <div class=\"text\">\n        <p v-text=\"slotData[lang].text\"></p>\n      </div>\n      <div class=\"time\" :id=\"timeID\">\n        <span :id=\"minID\" v-text=\"initMin\" class=\"minutes\"></span>\n        :\n        <span :id=\"secID\" v-text=\"initSec\" class=\"seconds\"></span>\n      </div>\n      <div v-if=\"slotData.next !== 'start'\" class=\"next-arrow\" @click=\"nextSlot()\">\n        <font-awesome-icon icon=\"fa-solid fa-circle-chevron-down\"/>\n      </div>\n      <div v-else class=\"next-arrow\" @click=\"nextSlot()\">\n        <font-awesome-icon icon=\"fa-solid fa-flag-checkered\"/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TimeSlot\",\n  props: {\n    slotData: Object,\n    lang: String,\n  },\n  data: function () {\n    return {\n      timeout: 0,\n      minID: 'min-' + this.slotData.name,\n      secID: 'sec-' + this.slotData.name,\n      timeID: 'time-' + this.slotData.name,\n      initMin: this.slotData.time.split(':')[0],\n      initSec: this.slotData.time.split(':')[1],\n      componentKey: 0\n    }\n  },\n  mounted() {\n    this.emitter.on('start', slot => {\n      if (slot === this.slotData.name) this.countdown(document.getElementById(this.minID).innerHTML * 60 + document.getElementById(this.secID).innerHTML * 1);\n      else this.emitter.emit('stop', slot);\n    });\n    this.emitter.on('stop', slot => {\n      if (slot !== null && slot !== this.slotData.name) window.clearTimeout(this.timeout);\n    });\n    this.emitter.on('reset', () => {\n      this.componentKey++;\n    });\n  },\n  methods: {\n    nextSlot() {\n      window.clearTimeout(this.timeout);\n      this.emitter.emit('next', this.slotData.next);\n    },\n    countdown(input) {\n      document.getElementById(this.minID).innerHTML = Math.floor(input / 60);\n      let seconds = Math.floor(input % 60);\n      document.getElementById(this.secID).innerHTML = seconds < 10 ? \"0\" + seconds : seconds;\n\n      if (input <= 10) {\n        document.getElementById(this.timeID).style.color = \"#d9232a\";\n      }\n\n      if (input > 0) {\n        input--;\n        this.timeout = window.setTimeout(() => {\n          this.countdown(input)\n        }, 1000);\n      } else {\n        this.nextSlot();\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\ndiv.slot {\n  margin: .5em;\n  padding: .5em;\n  position: relative;\n}\n\ndiv.slot > div {\n  background: #abd2e5;\n  border-radius: 50px;\n  display: grid;\n  text-align: left;\n  grid-template-columns: 1fr 4fr 3fr;\n  grid-template-rows: 1fr 4fr;\n  height: 70vh;\n}\n\ndiv.slot div.text {\n  grid-column: 2/3;\n}\n\ndiv.slot div.time {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: black;\n  font-size: 6em;\n  font-weight: bold;\n  grid-column: 3/4;\n  grid-row: 1/3;\n}\n\ndiv.slot h3 {\n  color: #d9232a;\n  font-size: 2em;\n  margin-block-end: 0;\n  white-space: nowrap;\n  grid-column: 2/4;\n  grid-row: 1/2;\n}\n\ndiv.slot p {\n  font-size: 1.2em;\n}\n\ndiv.slot div.next-arrow {\n  position: absolute;\n  right: 8vw;\n  bottom: -.7em;\n  z-index: 1000;\n  font-size: 3.5em;\n  padding: 0 .1em 0 .1em;\n  border-radius: 25px;\n}\n</style>"],"mappings":";;gEAGMA,mBAAA,CAAW;;;EAENC,KAAK,EAAC;AAAM;;;;;;;uBAJrBC,mBAAA,CAmBM;IAnBDD,KAAK,EAAC,MAAM;IAAEE,GAAG,EAAEC,IAAA,CAAAC;MACtBL,mBAAA,CAiBM,cAhBJM,UAAW,EACXN,mBAAA,CAAyC;iBAArCO,gBAAA,CAAQC,MAAuB,CAAAC,QAAf,CAACD,MAAA,CAAAE,IAAI,EAAEC,OAAO;uCAClCX,mBAAA,CAEM,OAFNY,UAEM,GADJZ,mBAAA,CAAoC;iBAAjCO,gBAAA,CAAQC,MAAoB,CAAAC,QAAZ,CAACD,MAAA,CAAAE,IAAI,EAAEG,IAAI;yCAEhCb,mBAAA,CAIM;IAJDC,KAAK,EAAC,MAAM;IAAEa,EAAE,EAAEV,IAAA,CAAAW;MACrBf,mBAAA,CAA0D;IAAnDc,EAAE,EAAEV,IAAA,CAAAY,KAAK;iBAAET,gBAAA,CAAQH,IAAQ,CAAAa,OAAD;IAAEhB,KAAK,EAAC;wDAAiB,KAE1D,GAAAD,mBAAA,CAA0D;IAAnDc,EAAE,EAAEV,IAAA,CAAAc,KAAK;iBAAEX,gBAAA,CAAQH,IAAQ,CAAAe,OAAD;IAAElB,KAAK,EAAC;oEAEhCO,MAAA,CAAAC,QAAQ,CAACW,IAAI,gB,cAAxBlB,mBAAA,CAEM;;IAFgCD,KAAK,EAAC,YAAY;IAAEoB,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,QAAQ;MACvEC,YAAA,CAA2DC,4BAAA;IAAxCC,IAAI,EAAC;EAAiC,G,oBAE3D1B,mBAAA,CAEM;;IAFMD,KAAK,EAAC,YAAY;IAAEoB,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,QAAQ;MAC7CC,YAAA,CAAsDC,4BAAA;IAAnCC,IAAI,EAAC;EAA4B,G"},"metadata":{},"sourceType":"module","externalDependencies":[]}